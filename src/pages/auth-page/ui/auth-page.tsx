import React, { useState } from 'react';
import { View, StyleSheet, Image, Pressable } from 'react-native';
import { CustomText } from '@/shared/ui';
import { LoginForm } from '@/features/login/ui/login-form';
import { RegisterForm } from '@/features/register/ui/register-form';
import { colors } from '@/shared/styles/global';
import { SvgXml } from 'react-native-svg';

const logoSvg = `<svg width="419" height="198" viewBox="0 0 419 198" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.5 19.0003V88.0003H13.5V53.5003H67.5V40.0003H13.5V19.5002C13.5 17.0002 17 13.5002 19.5 13.5002L67.5 13.5003V1.00031H16.5C9 1.00031 0.5 11.0002 0.5 19.0003Z" fill="#393A3B"/>
<path d="M190 1.00024V88.5002H200V1.00024H190Z" fill="#393A3B"/>
<path d="M291 1.00018C296.5 1.00018 302.594 6.32005 306 13.5002L240.5 13.5001C237.5 13.5001 233 18.0001 233 21.0001V69.0001C233 72.0001 237 75.5001 240 75.5001H288C291 75.5001 295 72.0001 295 69.0001V44.0001H264C264.041 36.8954 270 31.5001 275 31.5001H308V69.0001C308 78.0001 297 89.0001 288 89.0001H239C231.5 89.0001 220 77.5001 220 70.0001V20.0001C220 11.0001 231 1.00018 239 1.00018H291Z" fill="#393A3B"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M96.5 88.0003V1.00024H149C156.5 1.00024 168 10.5002 168 18.0002V35.0002C168 41.0002 162.169 47.6984 153.5 51.5002V52.0002L167.5 88.0002H153.5L139 53.0002H109.5V88.0003H96.5ZM109.5 13.5002V40.0002H147C151 40.0002 155 36.0002 155 32.0002V22.0002C155 17.5002 151.5 13.5002 147 13.5002H109.5Z" fill="#393A3B"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M350 1.00012C340.5 1.00012 331 11.5 331 20.0001V71.0001C331 78.5 342.5 88.5001 349 88.5001H401C407 88.5001 418.5 80 418.5 73.0001V17.0001C418.5 10.5 407.5 1.00006 400 1.00006L350 1.00012ZM344 22.0001C344 18 348 13.5001 352 13.5001H397C401 13.5001 405.5 18 405.5 22.0001V68.0001C405.5 72 402 75.5001 398 75.5001H352C348 75.5001 344 72 344 68.0001V22.0001Z" fill="#393A3B"/>
<path d="M0.5 88.0003C0.5 88.0003 0.5 27.0004 0.5 19.0003M0.5 88.0003H13.5V53.5003H67.5V40.0003H13.5M0.5 88.0003V19.0003M0.5 19.0003C0.5 11.0002 9 1.00031 16.5 1.00031M16.5 1.00031C24 1.00031 67.5 1.00031 67.5 1.00031M16.5 1.00031H67.5M67.5 1.00031V13.5003M67.5 13.5003C67.5 13.5003 22 13.5002 19.5 13.5002M67.5 13.5003L19.5 13.5002M19.5 13.5002C17 13.5002 13.5 17.0002 13.5 19.5002M13.5 19.5002C13.5 22.0002 13.5 40.0003 13.5 40.0003M13.5 19.5002V40.0003M96.5 1.00024V88.0003H109.5V53.0002H139L153.5 88.0002H167.5L153.5 52.0002V51.5002C162.169 47.6984 168 41.0002 168 35.0002M96.5 1.00024C96.5 1.00024 141.5 1.00024 149 1.00024M96.5 1.00024H149M149 1.00024C156.5 1.00024 168 10.5002 168 18.0002M168 18.0002C168 25.5002 168 29.0002 168 35.0002M168 18.0002V35.0002M109.5 40.0002V13.5002M109.5 40.0002C109.5 40.0002 143 40.0002 147 40.0002M109.5 40.0002H147M109.5 13.5002C109.5 13.5002 142.5 13.5002 147 13.5002M109.5 13.5002H147M147 13.5002C151.5 13.5002 155 17.5002 155 22.0002M155 22.0002C155 26.5002 155 28.0002 155 32.0002M155 22.0002V32.0002M155 32.0002C155 36.0002 151 40.0002 147 40.0002M306 13.5002C302.594 6.32005 296.5 1.00018 291 1.00018M306 13.5002C306 13.5002 243.5 13.5001 240.5 13.5001M306 13.5002L240.5 13.5001M291 1.00018C285.5 1.00018 247 1.00018 239 1.00018M291 1.00018H239M239 1.00018C231 1.00018 220 11.0001 220 20.0001M220 20.0001C220 29.0001 220 62.5001 220 70.0001M220 20.0001V70.0001M220 70.0001C220 77.5001 231.5 89.0001 239 89.0001M239 89.0001C246.5 89.0001 279 89.0001 288 89.0001M239 89.0001H288M288 89.0001C297 89.0001 308 78.0001 308 69.0001M308 69.0001C308 60.0001 308 31.5001 308 31.5001M308 69.0001V31.5001M308 31.5001C308 31.5001 280 31.5001 275 31.5001M308 31.5001H275M275 31.5001C270 31.5001 264.041 36.8954 264 44.0001H295M295 44.0001C295 44.0001 295 66.0001 295 69.0001M295 44.0001V69.0001M295 69.0001C295 72.0001 291 75.5001 288 75.5001M288 75.5001C285 75.5001 243 75.5001 240 75.5001M288 75.5001H240M240 75.5001C237 75.5001 233 72.0001 233 69.0001M233 69.0001C233 66.0001 233 24.0001 233 21.0001M233 69.0001V21.0001M233 21.0001C233 18.0001 237.5 13.5001 240.5 13.5001M350 1.00012C340.5 1.00012 331 11.5 331 20.0001M350 1.00012C359.5 1.00012 392.5 1.00006 400 1.00006M350 1.00012L400 1.00006M331 20.0001C331 28.5002 331 63.5001 331 71.0001M331 20.0001V71.0001M331 71.0001C331 78.5 342.5 88.5001 349 88.5001M349 88.5001C355.5 88.5001 395 88.5001 401 88.5001M349 88.5001H401M401 88.5001C407 88.5001 418.5 80 418.5 73.0001M418.5 73.0001C418.5 66.0001 418.5 23.5001 418.5 17.0001M418.5 73.0001V17.0001M418.5 17.0001C418.5 10.5 407.5 1.00006 400 1.00006M352 13.5001C348 13.5001 344 18 344 22.0001M352 13.5001C356 13.5001 393 13.5001 397 13.5001M352 13.5001H397M344 22.0001C344 26.0001 344 64.0001 344 68.0001M344 22.0001V68.0001M344 68.0001C344 72 348 75.5001 352 75.5001M352 75.5001C356 75.5001 394 75.5001 398 75.5001M352 75.5001H398M398 75.5001C402 75.5001 405.5 72 405.5 68.0001M405.5 68.0001C405.5 64.0001 405.5 26.0001 405.5 22.0001M405.5 68.0001V22.0001M405.5 22.0001C405.5 18 401 13.5001 397 13.5001M190 88.5002V1.00024H200V88.5002H190Z" stroke="#393A3B"/>
<path d="M96.5 109.5V197H109.5V127.5L132.5 152.5L155 127.5V197H168V109.5H153.5L132.5 133.5L111 109.5H96.5Z" fill="#393A3B"/>
<path d="M190 197.5V109.5H200V197.5H190Z" fill="#393A3B"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.5 197V128C0.5 121 10.5 110 20 110L55 110C63 110 73.5 120 73.5 128V197H61.5V165H13V197H0.5ZM13 132V152H61.5V132C61.5 127 58 122.5 53 122.5H22C17 122.5 13 127 13 132Z" fill="#393A3B"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M239 110C230 110 220 119.5 220 130V179C220 188.5 231.5 197.5 238 197.5H290C297.5 197.5 307.5 188.5 307.5 182V126C307.5 121 297 110 289 110H239ZM233 132C233 126 237 122.5 242 122.5H286.5C290 122.5 294.5 127 294.5 130.5V178C294.5 181 290.5 184.5 287 184.5H240.5C237 184.5 233 180.5 233 177V132ZM250.5 147V163C250.5 166 252.5 168.5 255.5 168.5H272C275 168.5 277.5 166 277.5 163V147C277.5 144 275 141 272 141H255.5C252.5 141 250.5 144 250.5 147Z" fill="#393A3B"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M331 129V180.5C331 187 342 197.5 348.5 197.5H400C407.5 197.5 418.5 188.5 418.5 182V126C418.5 120 408.5 110 401 110H348.5C340.5 110 331 120 331 129ZM344 131C344 127 349 122.5 353 122.5H398C401.5 122.5 405.5 127.5 405.5 131V177.5C405.5 181 401.5 184.5 398 184.5L352 184.5C349 184.5 344 181 344 178V131Z" fill="#393A3B"/>
<path d="M0.5 197C0.5 197 0.5 135 0.5 128M0.5 197H13V165H61.5V197H73.5M0.5 197V128M0.5 128C0.5 121 10.5 110 20 110M20 110C29.5 110 47 110 55 110M20 110L55 110M55 110C63 110 73.5 120 73.5 128M73.5 128C73.5 136 73.5 197 73.5 197M73.5 128V197M13 152C13 152 13 137 13 132M13 152H61.5M13 152V132M13 132C13 127 17 122.5 22 122.5M22 122.5C27 122.5 48 122.5 53 122.5M22 122.5H53M53 122.5C58 122.5 61.5 127 61.5 132M61.5 132C61.5 137 61.5 152 61.5 152M61.5 132V152M239 110C230 110 220 119.5 220 130M239 110C248 110 281 110 289 110M239 110H289M220 130C220 140.5 220 169.5 220 179M220 130V179M220 179C220 188.5 231.5 197.5 238 197.5M238 197.5C244.5 197.5 282.5 197.5 290 197.5M238 197.5H290M290 197.5C297.5 197.5 307.5 188.5 307.5 182M307.5 182C307.5 175.5 307.5 131 307.5 126M307.5 182V126M307.5 126C307.5 121 297 110 289 110M242 122.5C237 122.5 233 126 233 132M242 122.5C247 122.5 283 122.5 286.5 122.5M242 122.5H286.5M233 132C233 138 233 173.5 233 177M233 132V177M233 177C233 180.5 237 184.5 240.5 184.5M240.5 184.5C244 184.5 283.5 184.5 287 184.5M240.5 184.5H287M287 184.5C290.5 184.5 294.5 181 294.5 178M294.5 178C294.5 175 294.5 134 294.5 130.5M294.5 178V130.5M294.5 130.5C294.5 127 290 122.5 286.5 122.5M250.5 147C250.5 150 250.5 160 250.5 163M250.5 147C250.5 144 252.5 141 255.5 141M250.5 147V163M250.5 163C250.5 166 252.5 168.5 255.5 168.5M255.5 168.5C258.5 168.5 269 168.5 272 168.5M255.5 168.5H272M272 168.5C275 168.5 277.5 166 277.5 163M277.5 163C277.5 160 277.5 150 277.5 147M277.5 163V147M277.5 147C277.5 144 275 141 272 141M272 141C269 141 258.5 141 255.5 141M272 141H255.5M331 129C331 138 331 174 331 180.5M331 129C331 120 340.5 110 348.5 110M331 129V180.5M331 180.5C331 187 342 197.5 348.5 197.5M348.5 197.5C355 197.5 392.5 197.5 400 197.5M348.5 197.5H400M400 197.5C407.5 197.5 418.5 188.5 418.5 182M418.5 182C418.5 175.5 418.5 132 418.5 126M418.5 182V126M418.5 126C418.5 120 408.5 110 401 110M401 110C393.5 110 356.5 110 348.5 110M401 110H348.5M353 122.5C349 122.5 344 127 344 131M353 122.5C357 122.5 394.5 122.5 398 122.5M353 122.5H398M344 131C344 135 344 175 344 178M344 131V178M344 178C344 181 349 184.5 352 184.5M352 184.5C355 184.5 394.5 184.5 398 184.5M352 184.5L398 184.5M398 184.5C401.5 184.5 405.5 181 405.5 177.5M405.5 177.5C405.5 174 405.5 134.5 405.5 131M405.5 177.5V131M405.5 131C405.5 127.5 401.5 122.5 398 122.5M96.5 197V109.5H111L132.5 133.5L153.5 109.5H168V197H155V127.5L132.5 152.5L109.5 127.5V197H96.5ZM190 109.5V197.5H200V109.5H190Z" stroke="#393A3B"/>
<path d="M190 103.5V94.5H200V103.5H190Z" fill="#393A3B" stroke="#393A3B"/>
</svg>
`;

export const AuthPage = () => {
  const [isLogin, setIsLogin] = useState(true);

  return (
    <View style={styles.container}>
      <SvgXml xml={logoSvg} width="100%" style={styles.logo} />

      <View style={styles.tabContainer}>
        <Pressable
          style={[styles.tab, isLogin ? styles.activeTab : null]}
          onPress={() => setIsLogin(true)}
        >
          <CustomText size="m" style={isLogin ? styles.activeTabText : styles.tabText}>
            Вход
          </CustomText>
        </Pressable>
        <Pressable
          style={[styles.tab, !isLogin ? styles.activeTab : null]}
          onPress={() => setIsLogin(false)}
        >
          <CustomText size="m" style={!isLogin ? styles.activeTabText : styles.tabText}>
            Регистрация
          </CustomText>
        </Pressable>
      </View>

      {isLogin ? <LoginForm /> : <RegisterForm />}
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
    alignItems: 'center',
    padding: 50,
  },
  logo: {
    width: '100%',
    maxHeight: 130,
    maxWidth: 280,
    marginBottom: 30,
  },
  tabContainer: {
    flexDirection: 'row',
    backgroundColor: colors.gray10,
    borderRadius: 5,
    marginBottom: 40,
    padding: 2,
  },
  tab: {
    flex: 1,
    paddingVertical: 10,
    alignItems: 'center',
    borderRadius: 5,
  },
  activeTab: {
    backgroundColor: colors.white,
    borderWidth: 1,
    borderColor: colors.gray50,
  },
  tabText: {
    color: colors.gray50,
  },
  activeTabText: {
    color: colors.gray90,
    fontWeight: 'bold',
  },
});
